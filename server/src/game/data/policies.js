/**
 * 정책 정의
 * type: 'toggle' (켜기/끄기 가능) | 'enact' (일회성 실행)
 * department: 소속 부서 ID
 * category: economy | social | diplomacy | military | technology
 * cost: 활성화 시 즉시 차감 자원 { resource: amount }
 * upkeep: 매 턴 유지비 { resource: amount }
 * effects: 매 턴 적용 효과 { resource: amount }
 * enactEffects: 일회성 실행 시 즉시 적용 { resource: amount }
 * incompatible: 동시 활성 불가 정책 ID 배열
 * conditions: 활성화 조건 { resource: { min?, max? } }
 */
const policies = {
  // === 경제계획국 ===
  oil_export_program: {
    id: 'oil_export_program',
    name: '석유 수출 프로그램',
    description: '석유를 국제 시장에 수출하여 외화를 확보합니다.',
    department: 'economic_bureau',
    category: 'economy',
    type: 'toggle',
    cost: {},
    upkeep: { oil: -30 },
    effects: { usd: 200, diplomacy: 2 },
    incompatible: ['oil_reserve_stockpile'],
    conditions: { oil: { min: 100 } },
  },
  oil_reserve_stockpile: {
    id: 'oil_reserve_stockpile',
    name: '전략 석유 비축',
    description: '석유를 비축하여 에너지 안보를 강화합니다.',
    department: 'economic_bureau',
    category: 'economy',
    type: 'toggle',
    cost: {},
    upkeep: { usd: -50 },
    effects: { oil: 20, socialStability: 1 },
    incompatible: ['oil_export_program'],
    conditions: {},
  },
  heavy_industry_expansion: {
    id: 'heavy_industry_expansion',
    name: '중공업 확장',
    description: '광물 가공 및 중공업 설비를 확대합니다.',
    department: 'economic_bureau',
    category: 'economy',
    type: 'toggle',
    cost: { usd: 300 },
    upkeep: { powerConsumption: 5, ores: -10 },
    effects: { usd: 150, electronics: 5 },
    incompatible: [],
    conditions: { ores: { min: 50 } },
  },
  collective_farming: {
    id: 'collective_farming',
    name: '집단 농장 운영',
    description: '국영 농장을 통해 식량 자급자족을 추진합니다.',
    department: 'economic_bureau',
    category: 'economy',
    type: 'toggle',
    cost: { usd: 200 },
    upkeep: { usd: -30 },
    effects: { food: 25, equalityIndex: 0.01 },
    incompatible: [],
    conditions: {},
  },
  build_power_plant: {
    id: 'build_power_plant',
    name: '발전소 건설',
    description: '새로운 발전소를 건설하여 전력 공급을 확대합니다.',
    department: 'economic_bureau',
    category: 'economy',
    type: 'enact',
    enactEffects: { usd: -500, powerSupply: 30 },
    conditions: { usd: { min: 500 } },
  },

  // === 사회공학처 ===
  universal_food_program: {
    id: 'universal_food_program',
    name: '보편적 식량 배급',
    description: '모든 인민에게 균등한 식량을 배급합니다.',
    department: 'social_engineering',
    category: 'social',
    type: 'toggle',
    cost: {},
    upkeep: { food: -20 },
    effects: { socialStability: 3, equalityIndex: 0.02, publicMorale: 2 },
    incompatible: ['tiered_ration_system'],
    conditions: { food: { min: 50 } },
  },
  tiered_ration_system: {
    id: 'tiered_ration_system',
    name: '차등 배급 체계',
    description: '노동 기여도에 따라 차등 배급을 실시합니다.',
    department: 'social_engineering',
    category: 'social',
    type: 'toggle',
    cost: {},
    upkeep: { food: -10 },
    effects: { gdpGrowth: 2, socialStability: 1, equalityIndex: -0.02, publicMorale: -1 },
    incompatible: ['universal_food_program'],
    conditions: {},
  },
  public_education_expansion: {
    id: 'public_education_expansion',
    name: '공교육 확대',
    description: '전 인민 대상 무상 교육을 확대합니다.',
    department: 'social_engineering',
    category: 'social',
    type: 'toggle',
    cost: { usd: 200 },
    upkeep: { usd: -80 },
    effects: { education: 5, publicMorale: 2, equalityIndex: 0.01 },
    incompatible: [],
    conditions: {},
  },
  universal_healthcare: {
    id: 'universal_healthcare',
    name: '무상 의료 체계',
    description: '전 인민에게 무상 의료 서비스를 제공합니다.',
    department: 'social_engineering',
    category: 'social',
    type: 'toggle',
    cost: { usd: 300 },
    upkeep: { usd: -100 },
    effects: { healthcare: 5, socialStability: 2, publicMorale: 3 },
    incompatible: [],
    conditions: {},
  },
  ai_labor_replacement: {
    id: 'ai_labor_replacement',
    name: 'AI 노동 대체',
    description: '인간 노동을 AI로 점진적으로 대체합니다.',
    department: 'social_engineering',
    category: 'social',
    type: 'toggle',
    cost: { electronics: 30 },
    upkeep: { powerConsumption: 10, electronics: -5 },
    effects: { equalityIndex: 0.03, gdpGrowth: 3, socialStability: -2, aiAutonomy: 2 },
    incompatible: [],
    conditions: { electronics: { min: 30 }, aiAutonomy: { min: 10 } },
  },

  // === 대외관계국 ===
  diplomatic_mission: {
    id: 'diplomatic_mission',
    name: '외교 사절단 파견',
    description: '우호국에 외교 사절단을 상주 파견합니다.',
    department: 'foreign_relations',
    category: 'diplomacy',
    type: 'toggle',
    cost: { usd: 200 },
    upkeep: { usd: -50 },
    effects: { diplomacy: 3 },
    incompatible: [],
    conditions: {},
  },
  trade_agreement: {
    id: 'trade_agreement',
    name: '국제 무역 협정',
    description: '자본주의 국가들과 제한적 무역 협정을 체결합니다.',
    department: 'foreign_relations',
    category: 'diplomacy',
    type: 'enact',
    enactEffects: { diplomacy: 10, usd: 300, partyLoyalty: -5 },
    conditions: { diplomacy: { min: 30 } },
  },
  military_buildup: {
    id: 'military_buildup',
    name: '군비 증강',
    description: '국방력을 강화하여 외부 위협에 대비합니다.',
    department: 'foreign_relations',
    category: 'military',
    type: 'toggle',
    cost: { usd: 500 },
    upkeep: { usd: -150, ores: -5 },
    effects: { militaryStrength: 5, diplomacy: -1, partyLoyalty: 2 },
    incompatible: [],
    conditions: {},
  },
  tech_export_ban: {
    id: 'tech_export_ban',
    name: '기술 수출 금지',
    description: '핵심 기술의 해외 유출을 차단합니다.',
    department: 'foreign_relations',
    category: 'diplomacy',
    type: 'toggle',
    cost: {},
    upkeep: {},
    effects: { diplomacy: -2, electronics: 3, aiAutonomy: 1 },
    incompatible: [],
    conditions: {},
  },

  // === 과학기술국 ===
  ai_research_program: {
    id: 'ai_research_program',
    name: 'AI 연구 프로그램',
    description: '인공지능 핵심 기술 연구에 국가 역량을 집중합니다.',
    department: 'science_tech',
    category: 'technology',
    type: 'toggle',
    cost: { usd: 400 },
    upkeep: { usd: -100, electronics: -5, powerConsumption: 8 },
    effects: { aiAutonomy: 3, education: 2 },
    incompatible: [],
    conditions: { electronics: { min: 20 } },
  },
  electronics_factory: {
    id: 'electronics_factory',
    name: '전자 부품 공장',
    description: '반도체 및 전자 부품 국산화를 추진합니다.',
    department: 'science_tech',
    category: 'technology',
    type: 'toggle',
    cost: { usd: 300 },
    upkeep: { usd: -50, powerConsumption: 5 },
    effects: { electronics: 10 },
    incompatible: [],
    conditions: {},
  },
  renewable_energy: {
    id: 'renewable_energy',
    name: '재생 에너지 개발',
    description: '태양광, 풍력 등 재생 에너지 발전을 확대합니다.',
    department: 'science_tech',
    category: 'technology',
    type: 'enact',
    enactEffects: { usd: -600, powerSupply: 25, powerConsumption: -5 },
    conditions: { usd: { min: 600 } },
  },
  quantum_computing: {
    id: 'quantum_computing',
    name: '양자 컴퓨팅 투자',
    description: '차세대 양자 컴퓨팅 기술에 대규모 투자를 단행합니다.',
    department: 'science_tech',
    category: 'technology',
    type: 'enact',
    enactEffects: { usd: -800, electronics: -20, aiAutonomy: 15, education: 5 },
    conditions: { usd: { min: 800 }, electronics: { min: 20 } },
  },
};

module.exports = policies;
